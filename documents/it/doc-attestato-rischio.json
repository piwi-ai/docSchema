{
  "id": "doc-attestato-rischio",
  "name": "Attestato di Rischio",
  "description": "Attestato di rischio RCA — classe di merito, sinistri pregressi",
  "references": [
    {
      "title": "IVASS — Attestato di Rischio",
      "url": "https://www.ivass.it/consumatori/sos-assicurati/attestato-rischio/index.html",
      "type": "documentation"
    },
    {
      "title": "Regolamento IVASS n. 9/2015",
      "url": "https://www.ivass.it/normativa/nazionale/secondaria-ivass/regolamenti/2015/n9/",
      "type": "regulation"
    }
  ],
  "jsonSchema": {
    "type": "object",
    "properties": {
      "compagnia": {
        "type": "string",
        "description": "Compagnia assicurativa emittente"
      },
      "contraente": {
        "type": "string",
        "description": "Nome e cognome del contraente"
      },
      "codiceFiscaleContraente": {
        "type": "string",
        "description": "Codice Fiscale di 16 caratteri (extract without spaces - remove all spacing if present)",
        "pattern": "^[A-Z]{6}\\d{2}[A-Z]\\d{2}[A-Z]\\d{3}[A-Z]$"
      },
      "targa": {
        "type": "string",
        "description": "Numero di targa del veicolo (es. AB123CD)"
      },
      "classeMeritoProvenienza": {
        "type": "string",
        "description": "Classe di merito CU provenienza"
      },
      "classeMeritoAssegnazione": {
        "type": "string",
        "description": "Classe di merito CU assegnazione"
      },
      "sinistri": {
        "type": "array",
        "description": "Tabella sinistri ultimi 5 anni",
        "items": {
          "type": "object",
          "properties": {
            "anno": {
              "type": "number",
              "description": "Anno del sinistro"
            },
            "responsabilita": {
              "type": "string",
              "description": "Tipo responsabilità",
              "enum": [
                "principale",
                "paritaria",
                "nessuna",
                null
              ],
              "nullable": true
            },
            "tipo": {
              "type": "string",
              "description": "Tipo sinistro (cose, persone)"
            },
            "importo": {
              "type": "number",
              "description": "Importo liquidato in Euro"
            }
          },
          "required": [
            "anno",
            "responsabilita"
          ]
        }
      },
      "anniAssicurazione": {
        "type": "number",
        "description": "Anni di osservazione assicurativa"
      },
      "dataEmissione": {
        "type": "string",
        "description": "Data emissione attestato",
        "pattern": "^\\d{2}\\.\\d{2}\\.\\d{4}$"
      }
    },
    "required": [
      "compagnia",
      "contraente",
      "targa",
      "classeMeritoProvenienza",
      "classeMeritoAssegnazione"
    ]
  }
}